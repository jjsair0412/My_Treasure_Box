# BFF 패턴
## Overview
백엔드 API가 많아짐에따라, FrontEnd side에선 한 페이지당 요청을 보내야 하는 API들이 너무 많아졌습니다.

또한 API가 많아졌기에 백엔드에서 내려주는 데이터와, 기획적인 부분에서 필요한 데이터가 상이하여 , FrontEnd에서 데이터를 받아온 뒤 정제해야하는 일이 많아졌습니다.
>사실 기획이 완벽했다면 이런 이슈를 미연에 방지할 수 있었겠지만,, 
>개발과 기획기간 포함 반년채 되지 않았고.. 
>개발적인 시야가 좁은상태에서 개발을 들어갔으니 이런 일이 발생했습니다..

그에 따라 백엔드의 로직을 구성할 때, API Response를 ***데이터***가 아닌 ***기획*** 측면에서 구성할 필요성을 느끼게 되었으며, ***BFF - Backend for Frontend*** 패턴을 도입하게 되었습니다.

## BFF (Backend for Frontend) 패턴이란 ?
BFF는 이름에서 확인할 수 있듯이 , 사용자 인터페이스(UI) 또는 클라이언트에 대해 최적화된 백엔드를 제공하는 방법 입니다.

이 방식은, UI별로 BackEnd를 따로 관리할 수 있게 해 줍니다.
- 예를들어 웹용 BFF , 모바일 어플리케이션용 BFF가 별도로 존재할 수 있게 합니다.

해당 패턴의 장점은 클라이언트 요구사항에 따라 API 응답을 맞춤화할 수 있기 때문에, 클라이언트와 서버간 통신을 최적화하고 작업 양을 줄일 수 있습니다.

## API Gateway vs BFF
언뜻 생각해보면 API Gateway와 비슷하다 생각할 수 있는데, 목적과 역할에 있어 많은 차이점이 있습니다.

### API Gateway
먼저 , API Gateway는 백엔드 단일 진입점을 구성하여 모든 클라이언트 요청을 한 지점에서 받게 됩니다.

이렇게되면 보안, 로깅, 캐싱등의 공통 기능을 한 지점 (API Gateway)에서 관리하고, 백엔드는 각각의 마이크로서비스가 구성되어 , 각 서비스끼리의 결합도를 낮추면서 유지보수에 용이점을 가져갈 수 있습니다.

그러나, 저희의 목적이었던  ***데이터***가 아닌 ***기획*** 측면에서 구성 이라는 요구사항을 충족하기엔 부족했습니다.

이유는 API Gateway를 사용하게 된다면, 단일진입점으로 클라이언트가 요청을 보내야하기 때문에 UI별로 BackEnd를 구성할 수 없으며, 모든 클라이언트가 같은 API를 사용하게 되기에, 마이크로 서비스들로 나뉘어져 있다 하더라도 클라이언트 측에선 하나로 보기 때문입니다.

### 차이점 정리
BFF는 클라이언트에 특화된 요청 API를 제공하게 되는데, API Gateway는 모든 클라이언트에게 동일한 API 엔드포인트를 제공하게 됩니다.

또한 BFF는 클라이언트와의 통신을 최적화한다는 목적이 있는 반면에, API Gateway는 각각의 마이크로 서비스간에 결합도를 낮추고, 마이크로서비스간 통신, 보안, 로드벨런싱등의 목적이 있습니다.

## 결론
따라서 저희는 BFF 패턴을 도입하게 됨으로써 , 데이터보단 기획적인 측면에서 백엔드 Response를 구성하여 FrontEnd 측면에서 데이터 정제의 공수를 낮출 수 있었으며 , 

오픈 이후 개발 목표인 모바일 어플리케이션이 개발될 시점에도 모바일용 BFF를 개발하여 백엔드 측면의 개발 공수도 낮추는 이점을 얻을 수 있었습니다.

