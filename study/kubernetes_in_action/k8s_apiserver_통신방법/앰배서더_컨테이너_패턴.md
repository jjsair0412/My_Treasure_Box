# 앰배서더 컨테이너 패턴
default-token-xyz 시크릿의 세가지 파일로 api 서버에 인증하여 통신하는 방법이 정석이지만 , 너무 불편하고 깁니다.

따라서 앰배서더 컨테이너 패턴으로 보안도 지키고 , 쉽게 api 서버와 통신할 수 있습니다.

## overview
API 서버와 직접 통신하는 대신에 , 파드 내부에 앰배서더 컨테이너를 두고 , 메인 컨테이너는 앰배서더 컨테이너와 HTTP 통신하고 , 앰배서더 컨테이너가 api 서버와 
HTTPS 통신을 하는 패턴입니다.

컨테이너는 HTTP 통신만하면 되니 편리하고 , 앰배서더 프록시가 API 서버에 대해 HTTPS 연결을 처리하니 보안 이점도 얻을 수 있습니다.
- 시크릿 볼륨의 default-token 파일을 통해 이를 수행합니다.

![amber_container_pa][amber_container_pa]

[amber_container_pa]:./images/amber_container_pa.png

파드의 모든 컨테이너는 동일한 루프백 네트워크 인터페이스를 공유하기에 , localhost 포트로 프록시 컨테이너 (앰배서더 컨테이너) 로 연결할 수 있습니다.

