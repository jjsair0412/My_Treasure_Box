# VPC
Virtual Private Cloud의 줄임말.

단일 AWS 리전에 VPC는 여러개가 존재할 수 있습니다.
- 리전당 최대 5개를 생성할 수 있지만, 차후 늘릴 수 있습니다.


## VPC CIDR 종류
각 CIDR의 최소 크기는 ```/28``` 이며, 최대 크기는 ```/16``` 입니다.

또한 AWS의 VPC는 private IP 대역이며 , 허용되는 범위는 다음과 같습니다.
- 10.0.0.0 ~ 10.255.255.255 (10.0.0.0/8)
- 172.16.0.0 ~ 172.31.255.255 (172.16.0.0/12)
- 192.168.0.0 ~ 192.168.255.255 (192.168.0.0/16)

VPC를 선택할 때 , 다른 네트워크의 IP 대역과 겹치지 않는것으로 선택해야 합니다.
>예를들어 Transit Gateway를 사용할 때,. 외부의 타 VPC와 연결해야 하니까, 구분이 되야 되서 IP대역이 겹치지 않게끔 VPC를 설정합니다.


## VPC Subnet
AWS는 VPC를 생성할 때 , **각 서브넷에서 5개 IP를 예약**합니다.

예약된 5개 IP는 사용할 수 없으며, 만약 10.0.0.0/24 서브넷이 있다면, 예약된 IP종류는 다음과 같습니다.

1. ```10.0.0.0``` : network addr
    - 네트워크 주소
2. ```10.0.0.1``` : Route
    - VPC 라우트용 주소
3. ```10.0.0.2``` : DNS
    - Amazon DNS에 제공하기위해 DNS와 매핑
4. ```10.0.0.3``` : 예약
    - 당장은 사용하지 않지만, 차후 사용할 수 도 있어서 예약해놓음
5. ```10.0.0.255``` : broadcast addr
    - 브로드케스트 주소. AWS와 같은 Public cloud에선 브로드케스트를 지원하지 않아서 사용하지 못하지만 , 예약되어있음.

위 5개 IP는 사용할 수 없습니다.

### 예시
만약 ***EC2 의 IP주소가 29개 필요하다면, /27 서브넷은 사용하지 못합니다.***

왜냐하면 , ```/27``` 의 사용 가능한 IP 개수는 32개인데, 예약된 5개를 제외하면 26개만 사용이 가능하기 때문입니다.
